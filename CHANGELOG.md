# Changelog

## [0.3.0](https://github.com/lespaceman/athena-flow/compare/athena-flow-cli-v0.2.3...athena-flow-cli-v0.3.0) (2026-03-02)

### Features

- add `workflow` CLI command for install, list, remove ([9d8b310](https://github.com/lespaceman/athena-flow/commit/9d8b31056a47d0630558b16b8c265aa7074a96a6))
- add boundary enforcement (ESLint + vitest, skipped until migration) ([1f3dce8](https://github.com/lespaceman/athena-flow/commit/1f3dce8afcb85198532326b4eef9db5d01fee579))
- add Claude hook runtime adapter (UDS + NDJSON) ([9b38882](https://github.com/lespaceman/athena-flow/commit/9b3888232c4f31d85d424beb5cfd1ff200f1b630))
- add decision mapper (RuntimeDecision → HookResultPayload) ([9748f3d](https://github.com/lespaceman/athena-flow/commit/9748f3dbdb1067dfc56407b60628e31274c45f93))
- add event mapper (HookEventEnvelope → RuntimeEvent) ([320ec73](https://github.com/lespaceman/athena-flow/commit/320ec73242bf72ca7e2d468bb9b2c603b0c0e86b))
- add expanded prop to HookEvent, PostToolResult, and UnifiedToolCallEvent ([01216ee](https://github.com/lespaceman/athena-flow/commit/01216eeb1d9c984618f3f576cd8680be2ae64f3a))
- add failure/block counters to header metrics ([7569705](https://github.com/lespaceman/athena-flow/commit/7569705767287e0398a8d735ed7e05e96cd5cb28))
- add FeedList component with viewport windowing ([bd511d8](https://github.com/lespaceman/athena-flow/commit/bd511d8544928232496a9598b9c68708bcf2b6df))
- add hint glyphs to registry for footer redesign ([77c9944](https://github.com/lespaceman/athena-flow/commit/77c9944cbcec6b0d478856070150c741a8140414))
- add hook controller (RuntimeEvent → ControllerResult) ([ff345a2](https://github.com/lespaceman/athena-flow/commit/ff345a2e7c71497a9ea0af2973e17d8c721813b9))
- add interaction rules for hook event types ([9c7bb9f](https://github.com/lespaceman/athena-flow/commit/9c7bb9ffe7bcc8597db47367771c9e59d93ee7d7))
- add isExpandable predicate for focusable feed rows ([a322ce6](https://github.com/lespaceman/athena-flow/commit/a322ce6f0b9f392b70ff4598cd5d74c2436181de))
- add LoopManager for native loop control ([2c4c4f1](https://github.com/lespaceman/athena-flow/commit/2c4c4f15013c7af7ba3e355468172be711df1a26))
- add mapToDisplay + useRuntime hook (runtime → UI bridge) ([e5449cd](https://github.com/lespaceman/athena-flow/commit/e5449cd8e0c4df28f6d746f70997f5583326ec03))
- add mock runtime adapter (scripted replay + injectable) ([74f96ac](https://github.com/lespaceman/athena-flow/commit/74f96ac0add612a97d944b448b93bcdb9831393c))
- add runtime boundary types (RuntimeEvent, RuntimeDecision, Runtime) ([2597ab3](https://github.com/lespaceman/athena-flow/commit/2597ab3c857c80d95b0fad5333a4bd4f7b80df77))
- add Static scrollback to eliminate feed re-render flicker ([eaf1556](https://github.com/lespaceman/athena-flow/commit/eaf15562230f29947488393dde95e19e1d34fab1))
- add Static scrollback to eliminate feed re-render flicker ([923747a](https://github.com/lespaceman/athena-flow/commit/923747acc6b387bf6b28db99462e6c62c8dab0f0))
- add Stop hook handler for native loop control ([7bb4baa](https://github.com/lespaceman/athena-flow/commit/7bb4baac6de0e544591b619feb7e047d35dca67d))
- add stop_block decision mapping for Stop hook ([7c26a52](https://github.com/lespaceman/athena-flow/commit/7c26a524e3883afd61d411b1fc2689c328665b3d))
- add stop_block variant to RuntimeIntent ([1ea1b6d](https://github.com/lespaceman/athena-flow/commit/1ea1b6dda7afac0c8ea73697307e680ee5903e85))
- add summarizeToolPrimaryInput for action-oriented tool summaries ([25bf6b3](https://github.com/lespaceman/athena-flow/commit/25bf6b3171b0bc0ad178c97e221c6e99ae06fa2d))
- add ToolResultContainer layout component ([bf32170](https://github.com/lespaceman/athena-flow/commit/bf321703bacafde922c23fe0f252d580049f3461))
- add ToolResultContainer layout with gutter, width containment, and spacing ([fb15f0a](https://github.com/lespaceman/athena-flow/commit/fb15f0a3a925ae0d48861c818f03671ac1c15677))
- add tsup build configuration ([fcf13e1](https://github.com/lespaceman/athena-flow/commit/fcf13e17f55dde4f91ffef983944c18c54209466))
- add useFocusableList hook for arrow-key navigation ([8bbdf84](https://github.com/lespaceman/athena-flow/commit/8bbdf84c1e367f631f00987c0232026d997724e9))
- ANSI block cursor, multi-line input, dynamic footer height ([d282444](https://github.com/lespaceman/athena-flow/commit/d282444e448f4eaa98502aef6912ec63ac9fcb6e))
- **app:** add setup AppPhase with SetupWizard rendering ([2e8cc4b](https://github.com/lespaceman/athena-flow/commit/2e8cc4bc605dfc919b2ca7ebc491575f2823eb8b))
- **app:** thread workflow through App and apply in useClaudeProcess ([6cd5d32](https://github.com/lespaceman/athena-flow/commit/6cd5d320ebca646b8c1be64cdf84d30f60d80664))
- auto-dequeue permissions when decision event arrives ([e8e7d57](https://github.com/lespaceman/athena-flow/commit/e8e7d57698fc1bf28022f1c872f338d208565ed0))
- **cli:** add first-run detection, setup subcommand, and /setup command ([b5e4636](https://github.com/lespaceman/athena-flow/commit/b5e463626537c257c1af49507ad96093953ea546))
- **cli:** replace layout with width-aware ascii dashboard ([ad61849](https://github.com/lespaceman/athena-flow/commit/ad618490681397f17a5c8cb2a429d0e3fc641137))
- **cli:** wire workflow registry with env/model passthrough ([34dad12](https://github.com/lespaceman/athena-flow/commit/34dad1268e85491a4ab91b387c1a214d2904c2e7))
- complete remaining harness decoupling tracks B/C/D ([8118ef0](https://github.com/lespaceman/athena-flow/commit/8118ef026fcb06124674f101500e9db92336cb71))
- **config:** add setupComplete, harness fields and writeGlobalConfig ([a56a5d7](https://github.com/lespaceman/athena-flow/commit/a56a5d70a603b5119a9bfd2a48d81afdbb006a6c))
- **config:** add workflow field to AthenaConfig ([300e4a9](https://github.com/lespaceman/athena-flow/commit/300e4a909842b6a64c390ed3a10f489c90e6568f))
- Ctrl+/ toggle for hints visibility ([6232184](https://github.com/lespaceman/athena-flow/commit/623218439eb09c9bcfd81007fb0cea96b3595c67))
- **detail:** add renderDetailLines for rich ANSI rendering ([99bde7f](https://github.com/lespaceman/athena-flow/commit/99bde7f145e315df5e8380ab94980ab871effb0b))
- **detail:** wire renderDetailLines into layout pipeline ([92c4bd2](https://github.com/lespaceman/athena-flow/commit/92c4bd29d491196bd530adda32153d4bdace9628))
- **DiffBlock:** rich diff rendering with hunks, line numbers, and side-by-side ([7ce8305](https://github.com/lespaceman/athena-flow/commit/7ce8305151a72d689f050df91245f3001c70fe5e))
- enable boundary enforcement (ESLint error + vitest) ([af11a48](https://github.com/lespaceman/athena-flow/commit/af11a48484261546987fe60140686ad48b638699))
- enrich subagent events with Task description ([51301a8](https://github.com/lespaceman/athena-flow/commit/51301a87a905eb3643071a16ad2bdde48dfd4b6f))
- exclude Task tool from merge — keep visible during execution ([a8d1313](https://github.com/lespaceman/athena-flow/commit/a8d131345d3bad9ef2d6b011e09c5178d71aee44))
- execute harness decoupling roadmap ([fbd55ce](https://github.com/lespaceman/athena-flow/commit/fbd55cee27c5bdd631387c4c47a9e6308f2e0937))
- **extractors:** enrich Edit with hunks, Glob with tree mode, Grep with groupBy ([692fd2c](https://github.com/lespaceman/athena-flow/commit/692fd2caa00368642ad936aedf9ebf8c8c7f2c19))
- feed table UI improvements ([f8e78a9](https://github.com/lespaceman/athena-flow/commit/f8e78a9b2b3415226596247c9df124e9e3c18ce3))
- **feed:** 5-column layout with EVENT/DETAIL columns and updated constants ([347f00f](https://github.com/lespaceman/athena-flow/commit/347f00f2a151223a76fe3a821248f320ab508655))
- **feed:** add +N overflow indicator to summarizeToolInput ([4144a44](https://github.com/lespaceman/athena-flow/commit/4144a4459bae5dd407e6d86d02eae9d88c88e250))
- **feed:** add agent.message event kind ([c3b2000](https://github.com/lespaceman/athena-flow/commit/c3b20005b962692aa4890a7530045beb3efeccb7))
- **feed:** add blank line gap as minute separator (X3) ([2116899](https://github.com/lespaceman/athena-flow/commit/21168999d99bb9eb65ac6747ff22a6965b56beb3))
- **feed:** add buildDetailsPrefix and layoutTargetAndOutcome ([9bdd2d8](https://github.com/lespaceman/athena-flow/commit/9bdd2d86ed46ee56f4bd8d7b07a19bd94b6cb631))
- **feed:** add cellFormatters with fit, opCategoryColor, formatGutter ([41c50bc](https://github.com/lespaceman/athena-flow/commit/41c50bcd649694119dfce374584829e68f9e4cc1))
- **feed:** add eventLabel() and eventDetail() for Title Case column labels ([73dfe0d](https://github.com/lespaceman/athena-flow/commit/73dfe0df93f21658f8c8ecd751858941090a6a1c))
- **feed:** add explicit OP codes for teammate.idle, task.completed, config.change ([e29f0f4](https://github.com/lespaceman/athena-flow/commit/e29f0f47fdcea77c762347496295670d607b7861))
- **feed:** add feed event filter with tests ([c1f04e2](https://github.com/lespaceman/athena-flow/commit/c1f04e26f4e4e8c6df1b32f7e5f4e544811ea5c9))
- **feed:** add FeedEvent type definitions ([ebb9330](https://github.com/lespaceman/athena-flow/commit/ebb9330ae70bc80875da8bddc336012aaa6c031f))
- **feed:** add formatTime, formatEvent, formatActor, formatTool, formatSuffix ([18f713f](https://github.com/lespaceman/athena-flow/commit/18f713f1ca93d69b23633df597b1c73a1d41ec98))
- **feed:** add MergedToolCallEvent component for paired tool rendering ([065368b](https://github.com/lespaceman/athena-flow/commit/065368b5c254b3fda76a57a7bc16dd4348f49061))
- **feed:** add OP-category coloring to feed table ([585844a](https://github.com/lespaceman/athena-flow/commit/585844a12bca658cf72c3ee0c104cf7238c67acb))
- **feed:** add PermissionQueueItem type ([242d1ed](https://github.com/lespaceman/athena-flow/commit/242d1ed393f51fffdf842a665f5fad6ba0483235))
- **feed:** add postByToolUseId lookup map to useFeed ([8f69d1f](https://github.com/lespaceman/athena-flow/commit/8f69d1f7550aa95d609fc0cbe12a88436e75930e))
- **feed:** add renderSegments, renderOutcome, and formatDetails ([6248965](https://github.com/lespaceman/athena-flow/commit/62489654f9e306263338acbc6f35f6048711d199))
- **feed:** add Session, Run, Actor entities ([e22974e](https://github.com/lespaceman/athena-flow/commit/e22974eb4067ab655c1892834b682e3f506b19e4))
- **feed:** add Skill and NotebookEdit primary input extractors ([6c0e9e2](https://github.com/lespaceman/athena-flow/commit/6c0e9e20be97aee7d7738ef96fb6e7e9cab0e906))
- **feed:** add stateful FeedMapper with tests ([c7b5193](https://github.com/lespaceman/athena-flow/commit/c7b51932ec2d613291145f24e0ff56a4e74fdef5))
- **feed:** add styleFeedLine for ANSI row coloring ([1a948b1](https://github.com/lespaceman/athena-flow/commit/1a948b14d5ff5081b052ca347144a3deb269b8a2))
- **feed:** add summarizeToolResult for merged tool event summaries ([aba966d](https://github.com/lespaceman/athena-flow/commit/aba966da674f5bf40921a362168fce0be2424aa8))
- **feed:** add three-tier tool display resolver and improve todo elapsed tracking ([e96a2e1](https://github.com/lespaceman/athena-flow/commit/e96a2e196f79266cc3363e941f57e2841117477e))
- **feed:** add title generator with tests ([be97be9](https://github.com/lespaceman/athena-flow/commit/be97be9a38f3f6e01a326e4cf0ebd130ef87c805))
- **feed:** add useFeed hook (replaces useRuntime + useContentOrdering) ([ee02cac](https://github.com/lespaceman/athena-flow/commit/ee02cacae04382a7f48a139e627ac5a49fd4ed69))
- **feed:** async enrichment extracts agent final message on stop ([0475b6c](https://github.com/lespaceman/athena-flow/commit/0475b6c36e110def3b278630aebcae8516d0345c))
- **feed:** attribute tool events to active subagent via stack-based tracking ([c66d091](https://github.com/lespaceman/athena-flow/commit/c66d091ddbc525b75fcc69439e1015cf35b4aa6f))
- **feed:** bright filename segment in path-based tool summaries (X4) ([9da4db8](https://github.com/lespaceman/athena-flow/commit/9da4db8b6b5052f3c7d27232613502b3e084968f))
- **feed:** collapse setup, compact.pre, and unknown events by default ([f386361](https://github.com/lespaceman/athena-flow/commit/f38636101db4064f427ef591c25ec3dade9e4843))
- **feed:** color expand indicators ▸ accent, ▾ success ([27af837](https://github.com/lespaceman/athena-flow/commit/27af8372f2d6de7e570b90efd96d7c4352e25016))
- **feed:** compact paths, humanize browser params, reorder Task description ([4af8a0c](https://github.com/lespaceman/athena-flow/commit/4af8a0c608a3feac30d8ebc063ec02de2c9532be))
- **feed:** dim styling for tool args in timeline summary ([d97a9b8](https://github.com/lespaceman/athena-flow/commit/d97a9b8d47d81f21b98d603447385cb8893e9d9b))
- **feed:** dim tool events, focus border, actor dedup, context bar, minute separators, contextual prompt ([6d5ed74](https://github.com/lespaceman/athena-flow/commit/6d5ed7416e70e98a3db98a116c9b68ba105242a6))
- **feed:** dynamic Read detail renderer — markdown for .md/.txt/unknown, code for rest ([1455d48](https://github.com/lespaceman/athena-flow/commit/1455d484877a2a431abc497d85cd343bf30c17ac))
- **feed:** dynamic Write detail renderer — show written content with appropriate renderer ([4e67e06](https://github.com/lespaceman/athena-flow/commit/4e67e0658c07d09fd388fb2dc39db3f65063d84b))
- **feed:** extend boundary enforcement to source/feed/ ([7420f31](https://github.com/lespaceman/athena-flow/commit/7420f31601465c972e171ad29bdb4f53e664d0c4))
- **feed:** extend createFeedMapper to bootstrap state from StoredSession ([234f1ac](https://github.com/lespaceman/athena-flow/commit/234f1ace9cc52440389429ffa97c1f746987a2bb))
- **feed:** extract clean verbs, strip MCP bracket prefix from summaries ([81fff7f](https://github.com/lespaceman/athena-flow/commit/81fff7f46ad82c7e9110965f0e0dd00a6bf39d87))
- **feed:** format MCP tool names as [server] action in feed summary ([1ae1130](https://github.com/lespaceman/athena-flow/commit/1ae113029b97f212a3ff3d48864de2286c575a1d))
- **feed:** integrate ANSI row styling into feed rendering ([fbe810a](https://github.com/lespaceman/athena-flow/commit/fbe810a28f512a7dc27fa6b60ffba1d021897e6d))
- **feed:** integrate SessionStore into useFeed for recording and restore ([c1d82ec](https://github.com/lespaceman/athena-flow/commit/c1d82eccc335df88a620a21a69451190b1ec624b))
- **feed:** populate detail and opTag fields in useTimeline ([0417aeb](https://github.com/lespaceman/athena-flow/commit/0417aeb6dc173632b191a7348f442da9ddad00ab))
- **feed:** pre-compute duplicateActor on TimelineEntry ([fb32473](https://github.com/lespaceman/athena-flow/commit/fb32473c0a2b0c556db7b9e2a2249acd175dae93))
- **feed:** remove '— done' noise from tool summary column ([8ae06d6](https://github.com/lespaceman/athena-flow/commit/8ae06d61f524f494b0908182c081f2bcf1374f7c))
- **feed:** replace two-pass feed rendering with Ink FeedGrid component ([ddf16a9](https://github.com/lespaceman/athena-flow/commit/ddf16a90a635b09da6e2aaee8d9e287a39bde362))
- **feed:** right-align outcomes with zero-result warning tint ([fbe4a64](https://github.com/lespaceman/athena-flow/commit/fbe4a64d580bcead7bd347854e58f28c71c943e1))
- **feed:** structured MCP tool detail header with namespace/server/action ([8597846](https://github.com/lespaceman/athena-flow/commit/8597846c8e3f70e8387ed7474b0f2940d47cc73a))
- **feed:** update feedLineStyle and buildBodyLines for 5-column layout ([6f53a70](https://github.com/lespaceman/athena-flow/commit/6f53a70c140d05e321233eaf01b60fa3a267fe3b))
- **feed:** widen ACTOR column from 8 to 12 chars for subagent labels ([109385e](https://github.com/lespaceman/athena-flow/commit/109385ea122aa8c69b767fa79c3d96253705b07d))
- **feed:** widen OP column to 16 chars and dim tool input args ([d2b83b8](https://github.com/lespaceman/athena-flow/commit/d2b83b8f555b2a71d477febf4705754454f89543))
- **feed:** wire merged tool events + verbose filtering through timeline pipeline ([6c68d0f](https://github.com/lespaceman/athena-flow/commit/6c68d0fbc7d03f6342ee5dc6a9f3cf2ca2d40d6a))
- **feed:** wire PermissionQueueItem into permission queue ([8a8d0f5](https://github.com/lespaceman/athena-flow/commit/8a8d0f5e4a9fe56dbabeb07699829e5883dd1e36))
- first-sentence agent messages + natural lifecycle summaries ([35f8d3c](https://github.com/lespaceman/athena-flow/commit/35f8d3ceb831a9b4d87bb64c03eeee025d443239))
- glyph-based hints with auto-hide when typing ([1caad0a](https://github.com/lespaceman/athena-flow/commit/1caad0abb278f178c182020f4cdb9168e1b35b49))
- **glyphs:** add centralized glyph registry with domain helpers ([093e7cc](https://github.com/lespaceman/athena-flow/commit/093e7cc101b1618b8ea34764d6c91a8c4db5e650))
- **glyphs:** add tool.success, tool.failure, tool.pending glyphs ([c21a321](https://github.com/lespaceman/athena-flow/commit/c21a321f9a1d5f0dce9752fcb16428d2d5525f8e))
- **header:** add detectHarness utility for auto-detecting coding assistant ([1d36927](https://github.com/lespaceman/athena-flow/commit/1d36927c16ee1da32034702de5d4c7e80fccc726))
- **header:** add HeaderModel type and buildHeaderModel() ([88f32dd](https://github.com/lespaceman/athena-flow/commit/88f32dddc85516880f8ca2d21f0b4a61cbcadcd9))
- **header:** add renderContextBar with color thresholds and NO_COLOR fallback ([a8cabdb](https://github.com/lespaceman/athena-flow/commit/a8cabdbfb5dc9053660bc3a902aad491219cb6c3))
- **header:** add renderHeaderLines with truncation and NO_COLOR support ([0777b26](https://github.com/lespaceman/athena-flow/commit/0777b268de46653230e9078e2a38210e5882659f))
- **header:** add statusBadge module with NO_COLOR fallback ([9a80b81](https://github.com/lespaceman/athena-flow/commit/9a80b81b5352ca01d4b6ab4d361bd041f600c237))
- **header:** compress to single line with ATHENA FLOW branding ([f4f796a](https://github.com/lespaceman/athena-flow/commit/f4f796ae647ea9275c316445298c06a65dd49962))
- **header:** new 2-line layout with context bar, session_id, harness, runs ([f2685c8](https://github.com/lespaceman/athena-flow/commit/f2685c88b453cae37e0ac52072188cd197913747))
- **header:** rearrange layout with tokens on line 2, harness/session on line 1 ([50b622d](https://github.com/lespaceman/athena-flow/commit/50b622d2450236a8f09c597341c9a58b7f17987a))
- **header:** replace plain Ctx text with visual progress bar (X1) ([2365c1c](https://github.com/lespaceman/athena-flow/commit/2365c1c7378314e2eb420387b886209ccc49cca5))
- **header:** show session scope index in header line ([8b26e08](https://github.com/lespaceman/athena-flow/commit/8b26e086ef9986852227ef75c1383dfe891d960f))
- **header:** update HeaderModel with session_id, workflow, harness, run_count, context ([8038abb](https://github.com/lespaceman/athena-flow/commit/8038abb6b036106615dda7454db666f30098b4e9))
- **header:** wire new header fields into app ([dcb785c](https://github.com/lespaceman/athena-flow/commit/dcb785c7531d80f56d8c1525f9a51f01ba9b5ddf))
- **header:** wire renderHeaderLines into app, replace buildFrameLines header ([83d33c8](https://github.com/lespaceman/athena-flow/commit/83d33c8a6f797bccbef05fcb7b8eec045eb92045))
- **hooks:** route PreToolUse through permission gate for headless mode visibility ([e1bd414](https://github.com/lespaceman/athena-flow/commit/e1bd4141916400850ed156337c6d633109f7f9b9))
- **hyperlink:** add OSC 8 hyperlink utility with auto-detection ([6240123](https://github.com/lespaceman/athena-flow/commit/6240123354d2323b4b8f4c3e1be153e0c2d508f8))
- **hyperlink:** integrate OSC 8 into CodeBlock, MarkdownText, and renderers ([9ed7786](https://github.com/lespaceman/athena-flow/commit/9ed7786fd2d924c473ca0a515562674cb5f3b3e1))
- implement non-interactive exec mode with policy-driven runner ([9f27a57](https://github.com/lespaceman/athena-flow/commit/9f27a57c30a71a70fe84bc60e184120171a9c015))
- include primary input in merged tool summaries ([ced263f](https://github.com/lespaceman/athena-flow/commit/ced263f338ee484516d6eb7aee11bf3da51d583f))
- **input:** contextual placeholder based on run status (X2) ([7f44427](https://github.com/lespaceman/athena-flow/commit/7f44427dcb1bd23a400d9397b2b014d50d5bd050))
- **input:** make Esc interrupt active run ([4d3ccf2](https://github.com/lespaceman/athena-flow/commit/4d3ccf26b0c6a591fb1c730da26a7634f1cda0eb))
- integrate LoopManager into useClaudeProcess lifecycle ([5884420](https://github.com/lespaceman/athena-flow/commit/588442081bc9a738dfcc5ca90f8409118ba1771e))
- **mapper:** generate agent.message from Stop events ([afc39c0](https://github.com/lespaceman/athena-flow/commit/afc39c0c2c54adebf0f7ef9f9375322c89f51859))
- **mapper:** generate agent.message from SubagentStop events ([cb9224e](https://github.com/lespaceman/athena-flow/commit/cb9224ed5b7d506821feb097320489ae74686b64))
- **mapper:** rebuild currentRun from stored events on bootstrap ([34ed367](https://github.com/lespaceman/athena-flow/commit/34ed367aeb629b2f7cfe491c32737b2477b6a6e0))
- modernize hint bar with readable labels and cleaner spacing ([9426933](https://github.com/lespaceman/athena-flow/commit/94269330dd41280ec00c19f7078399d5a52dd2b7))
- persist token usage across session continues ([c3877af](https://github.com/lespaceman/athena-flow/commit/c3877af987b0a2b474184e45a12d5319eb1f8650))
- **plugins:** discover workflow.json and wire into CLI ([39673cf](https://github.com/lespaceman/athena-flow/commit/39673cfc31a2b9215bde05f561190b28faa7c54d))
- **plugins:** pull marketplace on startup + graceful error handling ([bd1e2ab](https://github.com/lespaceman/athena-flow/commit/bd1e2aba2635ec7cc228fcff4f18ca43bfaa5e56))
- redesign TODO panel header with animated status indicator ([d905f20](https://github.com/lespaceman/athena-flow/commit/d905f20385473f3bc65810ea6393542b3a806451))
- **registry:** add findSessionByAdapterId for session identity lookup ([9050a5c](https://github.com/lespaceman/athena-flow/commit/9050a5cf53d185ea54db7c7c81f12f238ce7e979))
- resolve trackerTemplate .md file references in resolveWorkflow ([cacead2](https://github.com/lespaceman/athena-flow/commit/cacead2b81b9e92fbaf7e1100de8ff68d2f59479))
- **sessions:** add session registry for listing and managing sessions ([9b29da8](https://github.com/lespaceman/athena-flow/commit/9b29da8ab8d0ed6b22cf07733454c490569a8065))
- **sessions:** add session types and install better-sqlite3 ([d89be81](https://github.com/lespaceman/athena-flow/commit/d89be8118160412530f8979548f9c927383d0931))
- **sessions:** add SessionStore with SQLite recording and restore ([f45d77e](https://github.com/lespaceman/athena-flow/commit/f45d77e20ed9a1eaf88db15f5333b7f3aa28cc4b))
- **sessions:** add SQLite schema module with WAL mode ([588e92b](https://github.com/lespaceman/athena-flow/commit/588e92b956addae1d35610acbeb602176e34f2d2))
- **sessions:** update session picker to use athena session registry ([185f31c](https://github.com/lespaceman/athena-flow/commit/185f31c2b8ad6063dcfc52a1606d0dc11df3b7fc))
- **sessions:** wire SessionStore into HookProvider and CLI flags ([574e84c](https://github.com/lespaceman/athena-flow/commit/574e84c4b50277086978e64c9ef1da5ccab6abfd))
- **setup:** add HarnessStep with Claude Code verification ([c6ea501](https://github.com/lespaceman/athena-flow/commit/c6ea501130a952f8a7747d934604f55686a57f1d))
- **setup:** add SetupWizard orchestrator component ([ad1d41b](https://github.com/lespaceman/athena-flow/commit/ad1d41baa878a19624277f02ebdb19568417614f))
- **setup:** add StepSelector component with disabled option support ([33c7b57](https://github.com/lespaceman/athena-flow/commit/33c7b572e08066a01a90cfbcbd017e92e976431c))
- **setup:** add StepStatus component ([31676dd](https://github.com/lespaceman/athena-flow/commit/31676ddce0e427cdb46faaeb28525420c3f3da0e))
- **setup:** add ThemeStep component ([00a5b13](https://github.com/lespaceman/athena-flow/commit/00a5b13186fa04a77c94278285c0b8784e6e7086))
- **setup:** add useSetupState hook with step state machine ([9abc1c5](https://github.com/lespaceman/athena-flow/commit/9abc1c5ea3a64388a316c06c193b3aa8384fcbab))
- **setup:** add WorkflowStep with marketplace install and verification ([eaf01c2](https://github.com/lespaceman/athena-flow/commit/eaf01c2fdea23eea19840f349b7a90a21f90804c))
- **setup:** guided onboarding layout and numbered harness selection ([9ad2b6d](https://github.com/lespaceman/athena-flow/commit/9ad2b6ded614478aa386d822fd56f86b2a2a4323))
- **setup:** guided onboarding layout and numbered harness selection ([2d75238](https://github.com/lespaceman/athena-flow/commit/2d75238a35a621969ea38deaf422214b096d960e))
- **store:** add recordFeedEvents and event_count tracking ([12ffa7d](https://github.com/lespaceman/athena-flow/commit/12ffa7df0b83b75c2289397ec43d363c7363e6a7))
- **StructuredList:** file tree rendering for Glob results ([289e070](https://github.com/lespaceman/athena-flow/commit/289e070bdb0ad27b9cf878f34b998ce7a78674a8))
- **theme:** add dialog, inputPrompt, and userMessage.border theme fields ([52a7526](https://github.com/lespaceman/athena-flow/commit/52a75266c601b8e90cc7fe097884b9bf89fd955f))
- **theme:** add high-contrast theme, working color, and deduplicate glyphs ([4dbf0b9](https://github.com/lespaceman/athena-flow/commit/4dbf0b9e54c3b5ff9bf8bf509f7b71c008a38482))
- **theme:** apply definitive Primer-based palette for all three themes ([ea3f58e](https://github.com/lespaceman/athena-flow/commit/ea3f58eb333e921166dc73fa6df62169dc413048))
- **theme:** update dark theme from Catppuccin Mocha to GitHub Dark palette ([2cdaf8a](https://github.com/lespaceman/athena-flow/commit/2cdaf8a69f19a9b9774436fbb33cca1c1c7e93bd))
- **timeline:** add feedEvent reference to TimelineEntry ([54fa0f2](https://github.com/lespaceman/athena-flow/commit/54fa0f2f664b2a201d5bb66d2b0ff8e666a869b8))
- **todo:** add --ascii CLI flag and ascii mode detection ([c04f301](https://github.com/lespaceman/athena-flow/commit/c04f301ca55c818e3790512c8292b7ffe073c8a5))
- **todo:** add 'failed' status with ✗ glyph, expand TodoGlyphColors ([6d7624f](https://github.com/lespaceman/athena-flow/commit/6d7624f80e135000e57d8c0a30401ac2f062d5a0))
- **todo:** add Unicode/ASCII glyph functions for todo panel ([b871ac5](https://github.com/lespaceman/athena-flow/commit/b871ac5b8f68c978d45f6772b031c84556824bf6))
- **todo:** add useSpinnerFrame hook for animated in-progress glyphs ([fa9f177](https://github.com/lespaceman/athena-flow/commit/fa9f17748eb80c03f3c86023ccd2183ad40ddd07))
- **todo:** dynamic panel height with generous max for scroll ([62b8e5d](https://github.com/lespaceman/athena-flow/commit/62b8e5d9247c4bce856d75015577c868c7c1a633))
- **todo:** redesign TODO panel rendering with Unicode glyphs and scroll affordances ([c09d4db](https://github.com/lespaceman/athena-flow/commit/c09d4db175620c8896a2e077cc1f9f4ed9cc035c))
- **todo:** show all stages by default in definition order ([b263bd7](https://github.com/lespaceman/athena-flow/commit/b263bd71fc577901342415f20126c6c9364521bc))
- **todo:** sort items doing→open→done and expose remainingCount ([0d513d0](https://github.com/lespaceman/athena-flow/commit/0d513d09dc9d380d3d0afef2f4d867ac5c4916f2))
- **todo:** track elapsed time per stage, display on completed/failed tasks ([2be748d](https://github.com/lespaceman/athena-flow/commit/2be748dc13b17af619088707168cc7200759b659))
- **todo:** visual hierarchy — dim done, brighten active, color failed/blocked ([fa74eed](https://github.com/lespaceman/athena-flow/commit/fa74eed7927967d6c5878c726de46cd748d342e1))
- ToolResultContainer layout with gutter and width containment ([6601150](https://github.com/lespaceman/athena-flow/commit/6601150fd8eee10546cc5c5c76674f4d4843d995))
- **types:** add DiffHunk, DiffLine, displayMode, groupBy to RenderableOutput ([32acecd](https://github.com/lespaceman/athena-flow/commit/32acecdb04976a42e7a68de05bc26ed5081a1f4d))
- **ui:** accent color on input&gt; prompt ([a46a69f](https://github.com/lespaceman/athena-flow/commit/a46a69fdb8cb2a1513565b4583ee76e650f25ab7))
- **ui:** accent left-border for user prompt events in feed ([a043aa5](https://github.com/lespaceman/athena-flow/commit/a043aa59137dd23e7f4f1c5d836770423cde6119))
- **ui:** add AgentMessageEvent renderer for agent final messages ([4826f0a](https://github.com/lespaceman/athena-flow/commit/4826f0af9587ce7d8d646d17604755da35540abf))
- **ui:** add one-line feed column header ([536f9a3](https://github.com/lespaceman/athena-flow/commit/536f9a3892fc8c2f5883c91007dad9c074e1a243))
- **ui:** add SubagentStopEvent renderer ([ecdcc3d](https://github.com/lespaceman/athena-flow/commit/ecdcc3da0c2d2ca7ff16c09edd21d4b634da0466))
- **ui:** colored separator and title for permission/question dialogs ([8e8a9f5](https://github.com/lespaceman/athena-flow/commit/8e8a9f59b0a92783507d40c109a6da72b4732149))
- **ui:** redesign feed timeline columns from feed model ([5177e0f](https://github.com/lespaceman/athena-flow/commit/5177e0f899993c4a897f329d744a5d71be66be39))
- **ui:** replace agent message emoji with glyph ([fa5e6ee](https://github.com/lespaceman/athena-flow/commit/fa5e6ee721aff0d68be243e38202689dbe736443))
- **ui:** replace ASCII frame with Unicode box-drawing characters ([89e16fe](https://github.com/lespaceman/athena-flow/commit/89e16fe603ad4831bafb01eebf2cf122c140d079))
- **ui:** thread parentWidth through feed components and auto-size timeline columns ([9a7b7a5](https://github.com/lespaceman/athena-flow/commit/9a7b7a53fe789afcf7d23d82af73ce0041a9693b))
- **ui:** visual group separators between event categories in feed ([9147b04](https://github.com/lespaceman/athena-flow/commit/9147b0483dbf7a1cbb621a939164fecd7c8793b8))
- use primary input in tool summary formatting ([74b5276](https://github.com/lespaceman/athena-flow/commit/74b5276c8c223302854144e8808a29e9332bf56a))
- **utils:** add parseTranscriptTail for extracting last assistant message ([1e31f46](https://github.com/lespaceman/athena-flow/commit/1e31f4636aba403e082fdac380a4902e0986d7d0))
- wire FeedList with arrow-key navigation into AppContent ([c91c4c9](https://github.com/lespaceman/athena-flow/commit/c91c4c92c1ecf886fadefe6a5b141b0c9757b0e0))
- wire LoopManager into hookController callbacks ([06c2faa](https://github.com/lespaceman/athena-flow/commit/06c2faa9df5760fd12d430f4c78dc4d541672d1e))
- wire runtime into HookContext (swap useHookServer for useRuntime) ([19db85e](https://github.com/lespaceman/athena-flow/commit/19db85e0cd13d5f69fc75f3429620c091d651f57))
- **workflows:** add plugin installer for marketplace refs ([aa36abf](https://github.com/lespaceman/athena-flow/commit/aa36abf31d38bb1f77c5294a1ae6731b64618fff))
- **workflows:** add standalone workflow registry ([bacac4a](https://github.com/lespaceman/athena-flow/commit/bacac4a70cbf998a0b74f143d3b0fc6de8a86a7f))
- **workflows:** add WorkflowConfig type and applyWorkflow utilities ([86993c7](https://github.com/lespaceman/athena-flow/commit/86993c7ca8fcc96465401bb421aee0af2b3a6a68))
- **workflows:** export registry and installer from barrel ([c516b51](https://github.com/lespaceman/athena-flow/commit/c516b51f966abd0c0266c420c1b9984a0f61bae6))
- **workflows:** refresh runtime after setup and support RFC 0001 marketplace ([d847fb6](https://github.com/lespaceman/athena-flow/commit/d847fb664cf9f73d4790475c46ea77754c4dcde0))
- **workflows:** resolve and install workflows from marketplace repos ([430a25f](https://github.com/lespaceman/athena-flow/commit/430a25f6eedce8df8420d47b7d24625ac04ac92a))
- **workflows:** update WorkflowConfig type with plugins, env, model, version ([432612e](https://github.com/lespaceman/athena-flow/commit/432612e42386448464a07cae76566595d6db4f4f))

### Bug Fixes

- add gutter column to feed lines — eliminate ANSI slice hack ([2377a30](https://github.com/lespaceman/athena-flow/commit/2377a3021ef17e8191e239f3518a20e745d2f8dd))
- address code review - validation, env precedence, lint ([5219aa4](https://github.com/lespaceman/athena-flow/commit/5219aa48fef00eaabedb69bce1fa4e11263a665f))
- address code review — fail-open updateFrontmatter, throw on missing trackerTemplate, update CLAUDE.md ([b8ef0d1](https://github.com/lespaceman/athena-flow/commit/b8ef0d16ae284efd10f475c300fd0f2085467948))
- align useContentOrdering tests with pure timestamp ordering ([c2f9c32](https://github.com/lespaceman/athena-flow/commit/c2f9c322a593cec8e185dc45bee11a0364fbc6d1))
- allow multi-char hint glyphs in registry test ([813b4bb](https://github.com/lespaceman/athena-flow/commit/813b4bbb0e7da44e82a1a8c6324715f0bbd345a8))
- ANSI-aware slice in feed lines + rich detail view for merged tool events ([ed0b3a1](https://github.com/lespaceman/athena-flow/commit/ed0b3a1d9ea0110ae9aad1968d7d7e97747c630a))
- **app:** defer Claude spawn until first user prompt ([b298c65](https://github.com/lespaceman/athena-flow/commit/b298c65e15df561e1ea5c8975e1684987ba45aaa))
- cap expanded JSON output in UnifiedToolCallEvent to 40 lines ([9652410](https://github.com/lespaceman/athena-flow/commit/9652410015d6b2931c60f439d3eb155a3e9d78df))
- **cli:** deduplicate plugin dirs to prevent command registration collision ([11a4281](https://github.com/lespaceman/athena-flow/commit/11a42817ef09cdd01169ce41683503d2ce59a925))
- **cli:** enforce strict flags and remove colon commands ([b266605](https://github.com/lespaceman/athena-flow/commit/b266605d1bc5129e4c38d2c74b4d1358b2353bcd))
- **cli:** remove adapter ID fallback from --continue, Athena ID is sole authority ([5128fb7](https://github.com/lespaceman/athena-flow/commit/5128fb7b1370090a0151ef5d89612f0a01dd6c3a))
- **cli:** resolve --continue via Athena registry only ([165a227](https://github.com/lespaceman/athena-flow/commit/165a2275704d6fd12f133f4f4779ef4b8f798a8a))
- close runtime boundary gaps — dead code, enforcement, timeout notify ([0294893](https://github.com/lespaceman/athena-flow/commit/0294893f222266640a94c74f4bd87175ab36aed5))
- **detail:** use ANSI-aware fitAnsi to preserve escape codes in detail view ([5fd7711](https://github.com/lespaceman/athena-flow/commit/5fd7711ef40a0294e2632fa233f099d161664cb8))
- drop Node 18 from CI matrix ([9130895](https://github.com/lespaceman/athena-flow/commit/9130895a0929ba3d0b198fbac1160d6e3f646a16))
- feed mapper bugs + simplify feed model code ([62fc728](https://github.com/lespaceman/athena-flow/commit/62fc7283bba9a3b3c582da8dea5d630351d883a2))
- **feed:** add AskUserQuestion to PRIMARY_INPUT_EXTRACTORS ([80ced5e](https://github.com/lespaceman/athena-flow/commit/80ced5efb2d6bfcae50f8d97337e0f3d79865f56))
- **feed:** align feed model with Claude Code hook docs ([f3392a5](https://github.com/lespaceman/athena-flow/commit/f3392a569e7178812c075163b002098c43074b5d))
- **feed:** align feedLineStyle with color-palette.md spec ([1bbce6e](https://github.com/lespaceman/athena-flow/commit/1bbce6e27c3be53067a3f18bdb3328324664da31))
- **feed:** apply blue info color to agent message summaries (S6) ([3607f4f](https://github.com/lespaceman/athena-flow/commit/3607f4f8cc25f43869b16e51bb90b76f56de807b))
- **feed:** compact absolute paths in Bash command DETAILS ([7a1a83c](https://github.com/lespaceman/athena-flow/commit/7a1a83c478889ea0a8dd9b735c9258ce5cfcc1d7))
- **feed:** correct dimStart and outcome alignment in mergedEventSummary ([45cb394](https://github.com/lespaceman/athena-flow/commit/45cb39465bbc48206197d373fb6391ed96f9a46a))
- **feed:** dim entire row for lifecycle and Tool OK events (QW1, S9) ([1a0f202](https://github.com/lespaceman/athena-flow/commit/1a0f20271d373e83bfa0708503573f4e8452c4eb))
- **feed:** eliminate stop noise and show subagent.stop in feed ([7db9fb6](https://github.com/lespaceman/athena-flow/commit/7db9fb66f46d944c7374c47d9635d65512d528a5))
- **feed:** mute Agent Msg EVENT label color ([d066d7c](https://github.com/lespaceman/athena-flow/commit/d066d7ca8fac2a40b9e730432fc65702acb9f63e))
- **feed:** mute non-tool DETAILS text with target role ([8b9daca](https://github.com/lespaceman/athena-flow/commit/8b9daca901ff2338c674b702d6cdfc4202a57d3f))
- **feed:** remove dead ternary and fix Glob singular pluralization ([1a61e87](https://github.com/lespaceman/athena-flow/commit/1a61e87167dd1d58d8213ef71fc31251e0948e43))
- **feed:** remove Write duplicate path from outcome, fix Grep non-string fallback ([a6a616d](https://github.com/lespaceman/athena-flow/commit/a6a616d7b1fceee3c7e3f681aa292ab06a4aca88))
- **feed:** render inline markdown in list items for detail view ([b9f1d03](https://github.com/lespaceman/athena-flow/commit/b9f1d03f7dfce3e7a9ee9f11e4daf6d7c53692c0))
- **feed:** render inline markdown in list items for MarkdownText ([c06657d](https://github.com/lespaceman/athena-flow/commit/c06657d13a2bd656fd59ec0fd64cd5dc24170bec))
- **feed:** snap cursor to tail on Tab focus and account for minute separators in viewport ([5d8604f](https://github.com/lespaceman/athena-flow/commit/5d8604fabf5aecba8e7ca00ff53c1c17f6d3dbca))
- **feed:** sort messages and feed events on same seq scale ([4c67043](https://github.com/lespaceman/athena-flow/commit/4c6704324cdba25f6dda1c38a300723cc29f716f))
- **feed:** strip markdown syntax from agent.message feed summaries ([a7e8af8](https://github.com/lespaceman/athena-flow/commit/a7e8af80148748770203a6075b9bd90a8b6f6f08))
- **feed:** strip plugin prefix from Skill event summaries (S4) ([1aa6153](https://github.com/lespaceman/athena-flow/commit/1aa61531d668310f7481bf6304c50740dd113634))
- **feed:** suppress description in Sub Start/Stop DETAILS column ([6dc7b76](https://github.com/lespaceman/athena-flow/commit/6dc7b76cf30df5326eb34cc55ae16f0c25e57094))
- **feed:** use global duplicate-actor detection with category breaks ([8c3b914](https://github.com/lespaceman/athena-flow/commit/8c3b914907fdaccbb82d07a323909fe0a3f11211))
- **format:** preserve Unicode in fit() and compactText() ([6c29da9](https://github.com/lespaceman/athena-flow/commit/6c29da9992ad790621202e8a329a03bfada02e91))
- HEADER_ROWS off-by-one causing extra space below frame border ([9980017](https://github.com/lespaceman/athena-flow/commit/9980017105d735a95fe9e0b5609d8d34b04553a1))
- **header:** clean up contextBar test imports and chalk level handling ([ca88bf8](https://github.com/lespaceman/athena-flow/commit/ca88bf89097d67d97265ae718267a66307a90b44))
- **header:** cleanup from end-to-end review ([a41bd58](https://github.com/lespaceman/athena-flow/commit/a41bd587dc66c5059e3341530b16f10c0648202d))
- **header:** default harness to Claude Code ([83d5d5c](https://github.com/lespaceman/athena-flow/commit/83d5d5c0374621200658f745ada93b32d2603b4c))
- **header:** preserve context across runs, compact right-aligned context bar ([595d081](https://github.com/lespaceman/athena-flow/commit/595d081e824c55359d77f25b3cbf4ccfb6c47177))
- **header:** wire tokenUsage.contextSize into context bar ([bae9148](https://github.com/lespaceman/athena-flow/commit/bae91489a3d70b544ad8584818846ab5fe615e7c))
- increase right padding on tool result container ([a0388f4](https://github.com/lespaceman/athena-flow/commit/a0388f43a036f649b09eb35d4aa131ef1c5fb8e4))
- increase waitFor timeout in flaky SetupWizard retry test ([db01cc4](https://github.com/lespaceman/athena-flow/commit/db01cc466c03c36a0c0ed1b11a734e720cbd878a))
- lint error in buildFrameLines test ([1242fc7](https://github.com/lespaceman/athena-flow/commit/1242fc71fb6a6bc1a29022d04b1dc5fdd06d62d3))
- make SetupWizard tests deterministic with act() and fake timers ([571ac82](https://github.com/lespaceman/athena-flow/commit/571ac823755745ed62df9634dba0d1ae0d3f66b6))
- **mapper:** extract runSeq from all stored events, remove actor bootstrap ([73680d1](https://github.com/lespaceman/athena-flow/commit/73680d19dbb39e1c66977c0cef0747fed635a358))
- **mapper:** make seq globally monotonic per session, never reset per run ([9717db9](https://github.com/lespaceman/athena-flow/commit/9717db9c6c906add24de9be89ed7f8c39eae49e7))
- **mapper:** prevent duplicate decisions for same request + sentinel test ([243eec2](https://github.com/lespaceman/athena-flow/commit/243eec2ffd55f3a2a86e9a995c4911abbb8eeb5b))
- **mapper:** remove duplicate bootstrap block from bad merge ([230ec15](https://github.com/lespaceman/athena-flow/commit/230ec15024e20dbf90c279309fa39f929775736d))
- **markdown:** undo colon placeholder in custom list renderer ([425deac](https://github.com/lespaceman/athena-flow/commit/425deaccefbca7ba7934694065ccf259195194c4))
- **permissions:** auto-allow non-allowlisted PreToolUse instead of prompting ([ee6d134](https://github.com/lespaceman/athena-flow/commit/ee6d134a723d656d8d6e0c23d9577bb458355a96))
- **persistence:** mark session degraded on write failure instead of silent swallow ([86acc46](https://github.com/lespaceman/athena-flow/commit/86acc463d2bc837e6e55686585776336a8e0ecf7))
- prettier formatting and type errors in test fixtures ([998f566](https://github.com/lespaceman/athena-flow/commit/998f566a139e4916e50ca8979e29c65f93db96d7))
- prevent double-consume in forward-Delete stdin peek ([fbed29b](https://github.com/lespaceman/athena-flow/commit/fbed29b471f535c406ac02bfed79164134a0e96f))
- prevent subagent stream events from overwriting header context size ([c817dff](https://github.com/lespaceman/athena-flow/commit/c817dffb2bc31402f6d180a1e743612ced46f4bc))
- reduce left margin on tool result gutter ([5e139ea](https://github.com/lespaceman/athena-flow/commit/5e139eabe7a41d75df2fdad4d9d95a92423aa450))
- **registry:** read event_count from session DB ([2bbadab](https://github.com/lespaceman/athena-flow/commit/2bbadab6e551bb9267c9fd4bbac689a112316285))
- remove dead expanded branch from PostToolResult ([54f9796](https://github.com/lespaceman/athena-flow/commit/54f979641544dc170aed71a94e633f2df9c33cd5))
- remove stale color-palette.md comment reference ([adc71b5](https://github.com/lespaceman/athena-flow/commit/adc71b509fa3835eb5897cf2d5a9dab18420a9b2))
- remove vertical gap above tool result container ([80cfda9](https://github.com/lespaceman/athena-flow/commit/80cfda9dccd309e821f893a9361e321d579da2e7))
- **render:** split multiline tool.failure errors into individual lines ([c8a0e89](https://github.com/lespaceman/athena-flow/commit/c8a0e89a72f3af51328f53e15fe94f385d632178))
- resolve lint errors and rename bin to athena-flow ([7e5f74b](https://github.com/lespaceman/athena-flow/commit/7e5f74baa4a4f59714df1a752b91d135f599c9cb))
- resolve prettier CI failures ([c0eba40](https://github.com/lespaceman/athena-flow/commit/c0eba40b7325653203ea30791b8b9733f338dd23))
- restore overwritten tests, clarify categoryBreak/userBorder precedence ([ffc3446](https://github.com/lespaceman/athena-flow/commit/ffc3446eff2722c83623358d932fde795eb239c7))
- **schema:** deduplicate feed_events.seq during v1→v2 migration ([df0c30a](https://github.com/lespaceman/athena-flow/commit/df0c30a10da42668ad1f8213cbe42a760a24148e))
- **schema:** enforce globally unique seq + add migration framework ([fdf7f81](https://github.com/lespaceman/athena-flow/commit/fdf7f81c3605c41e830df174b48c9c9310393a1f))
- **schema:** simplify schema — reject pre-release v1 DBs instead of migrating ([2c71524](https://github.com/lespaceman/athena-flow/commit/2c71524e2b64ff447a4c3aa19ba2a675ffb51756))
- **schema:** wrap migrations in transaction for atomicity ([a2f8428](https://github.com/lespaceman/athena-flow/commit/a2f84285981b4ec5ab47639ea4e50805eef72e30))
- **schema:** wrap migrations in transaction for atomicity ([7844028](https://github.com/lespaceman/athena-flow/commit/7844028c7fb4a7d02f263750e7497e3fd0f1addc))
- **scroll:** three viewport calculation bugs ([#5](https://github.com/lespaceman/athena-flow/issues/5), [#6](https://github.com/lespaceman/athena-flow/issues/6), [#7](https://github.com/lespaceman/athena-flow/issues/7)) ([3543ce3](https://github.com/lespaceman/athena-flow/commit/3543ce3419198ca3fa9c6965b4578385748edda0))
- **server:** log handler errors instead of silently swallowing them ([caa7815](https://github.com/lespaceman/athena-flow/commit/caa78156a5148323dafef3ab451f61fd4481e562))
- **sessions:** address architectural review feedback ([3565b48](https://github.com/lespaceman/athena-flow/commit/3565b4813cbc8d61db4aae40807ae280bc858acc))
- **sessions:** resolve adapter session ID in session picker ([e15f4fb](https://github.com/lespaceman/athena-flow/commit/e15f4fb8f629b14677051ff1b2f045c6999a349e))
- **setup:** add retry mechanism and guard completion effect ([2be4c46](https://github.com/lespaceman/athena-flow/commit/2be4c46c4690921c0b289688a4c59edcfa54bfe9))
- **setup:** harden onboarding flow and add live theme preview ([26cccf0](https://github.com/lespaceman/athena-flow/commit/26cccf00e93ffcfe7937404a535501bc0be27905))
- stabilize input history test and update release metadata ([988e196](https://github.com/lespaceman/athena-flow/commit/988e196ce7a1a3426ccabe83addae4050620177a))
- **store:** add exclusive DB lock + degradation diagnostics + document writer model ([a478546](https://github.com/lespaceman/athena-flow/commit/a478546891c40b2c6b0d292bad20c601b3221c4d))
- **store:** add exclusive DB lock + degradation diagnostics + document writer model ([c8ae9da](https://github.com/lespaceman/athena-flow/commit/c8ae9da1d82ad53777c0e06daaf942a5bed78416))
- sync marketplace workflow files on every startup ([863ad73](https://github.com/lespaceman/athena-flow/commit/863ad734e2752357dd0711a92c16f01b039739d4))
- **test:** update timeline tests for path prefix and Task description changes ([d7bdb6a](https://github.com/lespaceman/athena-flow/commit/d7bdb6af69f4b11b5efe9c254436d4517c804a3d))
- **todo:** auto-scroll to active stage, double-dim completed text (QW3) ([6dc3c95](https://github.com/lespaceman/athena-flow/commit/6dc3c957c7a8e8512df254b5eaf1856c737d829b))
- **todo:** cap panel height to prevent unbounded growth, simplify layout ([4e61270](https://github.com/lespaceman/athena-flow/commit/4e61270ec1d215340aeefba21175834a1d878fd2))
- **todo:** live elapsed times, auto-scroll visibility, and done glyph dimming ([f7ccb7e](https://github.com/lespaceman/athena-flow/commit/f7ccb7e4dfed0e6d89a3f0c022c7d4ff22f4a5ea))
- **todo:** prevent toggling failed tasks via keyboard ([f933e87](https://github.com/lespaceman/athena-flow/commit/f933e87d14a8898fb11ee667fe7ceb5e8f4aa25b))
- **todo:** remove unused runLabel and formatRunLabel import ([cb78fe9](https://github.com/lespaceman/athena-flow/commit/cb78fe98f4ca7971c93c6ef4439e5533bc224fb0))
- **todo:** stop mangling unicode in task IDs — delete toAscii ([e4e1338](https://github.com/lespaceman/athena-flow/commit/e4e1338fe20f96b67f9e748e764855553251cd99))
- **tokens:** support CLI envelope format in token accumulator, simplify fitAnsi imports ([6bd23bd](https://github.com/lespaceman/athena-flow/commit/6bd23bd1112acc7617f1ee48d3bbaca991fb7299))
- UI flickering and jank — independent events, pure timestamp ordering ([221baaf](https://github.com/lespaceman/athena-flow/commit/221baaf0348d4971373207b60813b0edd74f05cd))
- unify subagent feed line colors with agent ([f00400a](https://github.com/lespaceman/athena-flow/commit/f00400ae73287137bf07fdda18d15f333e82499c))
- update app.tsx to use stableItems from useContentOrdering ([b49b6b2](https://github.com/lespaceman/athena-flow/commit/b49b6b20c2bfca4d2f87674d8ce406c476715aa4))
- update tests after rebase — glyph count and dialog separator assertions ([1d7680b](https://github.com/lespaceman/athena-flow/commit/1d7680b122451deebe8a34b4a12687cf552f55d0))
- **useFeed:** sort feed items by seq instead of timestamp ([f9b98e4](https://github.com/lespaceman/athena-flow/commit/f9b98e4f22cb7ce3f5847f1577581ef458327a65))
- wire expanded prop from FeedList to HookEvent, consolidate tests ([383c9ff](https://github.com/lespaceman/athena-flow/commit/383c9ff0b87fbc72cc70f1080399022b1da1fb11))
- **workflows:** harden prompt spawn and workflow asset handling ([8a49bb8](https://github.com/lespaceman/athena-flow/commit/8a49bb8d0426b4e6b59b0719a107f1056194b287))

### Performance Improvements

- gate todo tick on visibility and stabilize static entries ref ([1321684](https://github.com/lespaceman/athena-flow/commit/1321684804f290dff23e4fc4266c718345b781a3))
- memoize frame and body derivations in app ([b07644d](https://github.com/lespaceman/athena-flow/commit/b07644ddd8cb3b0769babc5b2e3edc9ba08438f9))
- profile and optimize tui render/input performance ([fdc2ad1](https://github.com/lespaceman/athena-flow/commit/fdc2ad176ec946a872149bf989f97678101fac5c))
- reduce Ink rerender and feed formatting churn ([d61bd6f](https://github.com/lespaceman/athena-flow/commit/d61bd6f202f9b300404cbf7e5f8924982ad79424))
- reduce render churn in app/feed and process hooks ([97a191b](https://github.com/lespaceman/athena-flow/commit/97a191bf3bd52759092a0831ac2b4aa4356e2b16))

### Reverts

- undo 3-tier permission model (0d377d8, 0370f8b, c86406b) ([291c046](https://github.com/lespaceman/athena-flow/commit/291c0463bde42101bfa50cd68a4cd561386c1e57))
